SELECT
  MAX(CASE WHEN occupation='Doctor'    THEN name END) AS Doctor,
  MAX(CASE WHEN occupation='Professor' THEN name END) AS Professor,
  MAX(CASE WHEN occupation='Singer'    THEN name END) AS Singer,
  MAX(CASE WHEN occupation='Actor'     THEN name END) AS Actor
FROM (
  SELECT
    name, occupation,
    CASE occupation
      WHEN 'Doctor'    THEN (@rD := @rD + 1)
      WHEN 'Professor' THEN (@rP := @rP + 1)
      WHEN 'Singer'    THEN (@rS := @rS + 1)
      WHEN 'Actor'     THEN (@rA := @rA + 1)
    END AS rn
  FROM OCCUPATIONS
  CROSS JOIN (SELECT @rD:=0, @rP:=0, @rS:=0, @rA:=0) vars
  ORDER BY occupation, name
) x
GROUP BY rn
ORDER BY rn;
